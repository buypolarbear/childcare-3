<template name="classroomDetail">
  <table class="table table-bordered table-responsive">
    <thead>
      <tr>
        <th>Student (Transition Date)</th>
        <th>Transition Date</th>
        {{#each daysOfWeek}}
          <th>{{this}}</th>
        {{/each}}
      </tr>
    </thead>
    <tbody>
      {{#each student in students}}
        <tr>
          <td>{{student.firstName}} {{student.lastName}}</td>
          <td>({{ formatDate student.moveDate "MMM DD, YYYY" }})</td>
          {{#each daysOfWeek}}
            <td style="background-color:{{getColorIfhasClass student}}"></td>
          {{/each}}
        </tr>
      {{/each}}
      <tr>
        <td>Daily Ratios</td>
        <td></td>
        {{#each daysOfWeek}}
          <td>{{numOfStudentsPerDay ../_id}} / {{../capacity}}</td>
        {{/each}}
      </tr>
    </tbody>
  </table>

  <h4>Students Transitioning</h4>
  <table class="table table-bordered">
    <thead>
    <tr>
      <th>Student</th>
      <th>Estimated Transition Date</th>
      {{#each daysOfWeek}}
        <th>{{this}}</th>
      {{/each}}
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    {{#each student in studentsTransitioning}}
      <tr class="info" style="background-color:#7f8c8d">
        <td>{{student.firstName}} {{student.lastName}}</td>
        <td>{{formatDate student.moveDate "MMM DD, YYYY"}}</td>
        {{#each daysOfWeek}}
          <td style="background-color:{{getColorIfRequestsClass student}}"></td>
        {{/each}}
      </tr>
    {{/each}}
    </tbody>
  </table>
</template>